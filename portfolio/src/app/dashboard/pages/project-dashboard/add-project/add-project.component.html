<div class="home-dashboard">
  <div class="settings-card">
    <header class="page-header">
      <h1>Projects Dashboard</h1>
      <p>Manage your projects and technologies</p>
    </header>

    <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" class="settings-form" novalidate>
      <div class="form-layout">
        <div class="form-fields">

          <div class="form-group">
            <label class="form-label required">Project Number</label>
            <input type="text" formControlName="number" class="form-input"
              [ngClass]="{'error-border': projectForm.get('number')?.invalid && (projectForm.get('number')?.touched || isSubmitted)}"
              placeholder="e.g. 01">
          </div>

          <div class="form-group">
            <label class="form-label required">Title</label>
            <input type="text" formControlName="title" class="form-input"
              placeholder="e.g. Portfolio Website">
          </div>

          <div class="form-group">
            <label class="form-label">Description</label>
            <textarea formControlName="description" class="form-input textarea"
              placeholder="Project description..."></textarea>
          </div>

          <div formArrayName="technologies">
            <div *ngFor="let tech of technologies.controls; let i = index" class="skill-item" [formGroupName]="i">
              <div class="form-group">
                <label class="form-label required">Technology</label>
                <input type="text" formControlName="name" class="form-input" placeholder="e.g. Angular">
              </div>
              <button type="button" class="btn btn-secondary" (click)="removeTechnology(i)" *ngIf="technologies.length > 1">
                Remove
              </button>
            </div>
          </div>
          <button type="button" class="btn btn-secondary" (click)="addTechnology()">+ Add Technology</button>

          <div class="form-group">
            <label class="form-label required">Project Image</label>
            <input type="file" (change)="onFileSelected($event)" class="form-input">
          </div>

          <div class="form-group">
            <label class="form-label">View Project URL</label>
            <input type="text" formControlName="viewProject" class="form-input" placeholder="e.g. https://...">
          </div>

          <div class="form-group">
            <label class="form-label">Open Project URL</label>
            <input type="text" formControlName="openProject" class="form-input" placeholder="e.g. https://...">
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> Save Project
            </button>
          </div>

        </div>
      </div>
    </form>
  </div>
</div>
